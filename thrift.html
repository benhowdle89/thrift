<head>
  <script type="text/javascript" src="//use.typekit.net/lpc0tea.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>	
  <title>Thrift</title>
  <meta name="description" content="GitHub repo/idea thrift store for the open web. Lost passion for a project? Submit the GitHub repo URL. Have an idea that you'd think the community can build? Suggest it!">
</head>
<body>
{{> header}}
<div class="wrap">
	<div class="content">
		{{renderPage}}
	</div>
</div>
<footer>
	<h5>Brought to you by <a href="http://twitter.com/benhowdle">Ben Howdle</a> &amp; <a href="http://twitter.com/ryanamurphy">Ryan Murphy</a></h5>
	<p>We are not responsible for any copyright disputes that may occur as a result of submitting ideas/GitHub repo URLs.</p>
	<p>For any feature requests or major bugs spotted - feel free to add them to the <a href="https://github.com/benhowdle89/thrift/issues">GitHub issue list</a> for this site.</p>

</footer>
</body>

<template name="submitForm">
	<div class="submitForm">
		<input id="newTitle" placeholder="Title..." />
		<textarea id="newDescription" placeholder="Idea/GitHub repo description"></textarea>
		<input id="newGitHubURL" placeholder="GitHub repo URL (optional)" /> 
		<button id="submit">Add</button>
		<button id="cancel">Cancel</button>
	</div>
</template>

<template name="home">
	{{> items}}
</template>

<template name="single">
	{{> item}}
</template>

<template name="intro">
	<div class="intro">
		<p><span>GitHub repo/idea thrift store for the open web.</span></p>
		{{#if currentUser}}
			{{> submit}}
		{{else}}
			{{loginButtons}}
		{{/if}}
	</div>
</template>

<template name="404">
	<p>Couldn't find that page, yo!</p>
</template>

<template name="header">
<header>
	<div class="innerWrap">
		<div class="notification"></div>
		<h1>Thrift</h1>
		<input id="search" placeholder="Search for a repo or an idea..." />
		<div class="menu">
			{{#if currentUser}}
				{{loginButtons}}
			{{/if}}
		</div>
	</div>
</header>
{{> intro}}
</template>

<template name="search">
	{{#each results}}
		<div class="entry">
			<h2 data-id="{{_id}}" class="permalink{{#if gitHubURL}} github-existing {{/if}}">{{title}}</h2>
		</div>
	{{/each}}
</template>

<template name="submit">
	<button class="submitTrigger">Submit</button>
	{{> submitForm}}
</template>

<template name="items">
	{{#each items}}
		<div class="entry">
			<h2 class="permalink{{#if gitHubURL}} github-existing {{/if}}">{{title}}</h2>
		</div>
	{{/each}}
</template>

<template name="item">
	{{#each items}}
		<div class="single">
			<h2>{{title}}</h2>
			<p class="entryDesc">{{description}}</p>
			<p class="meta">{{name}}<p>
			{{#if gitHubURL}}
				<button><a href="{{gitHubURL}}">Fork repo</a></button>
			{{else}}
				<button><a href="https://github.com/new">Create new GitHub repo</a></button>
			{{/if}}
			
			<button><a href="https://twitter.com/intent/tweet?text=This idea needs a new home&url=http://thrift.im/i/{{_id}}">Tweet</a></button>
			{{#if author}}
				<button class="delete">Delete?</button>
			{{/if}}
		</div>

		<div id="disqus_thread"></div>
		<div id="disqus_loader" style="text-align: center"></div>
	{{/each}}
</template>
